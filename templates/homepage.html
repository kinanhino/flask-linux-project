<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/2.9.4/Chart.js"></script>

    <link rel="stylesheet" href="{{ url_for('static', filename='homepage.css') }}">
    <style>
        .chart-container {
          width: 50%;
          margin: 20px auto;
        }
    </style>
</head>
<body>

<nav class="navbar fixed-top navbar-expand-md navbar-dark bg-primary mb-3">
    <div class="flex-row d-flex">
        <button type="button" class="navbar-toggler mr-2 " data-toggle="offcanvas" title="Toggle responsive left sidebar">
            <span class="navbar-toggler-icon"></span>
        </button>
        <a class="navbar-brand" href="#" title="Free Bootstrap 4 Admin Template">Monitor Linux</a>
    </div>

    <div class="navbar-collapse collapse" id="collapsingNavbar">

        <ul class="navbar-nav ml-auto">
            <li class="nav-item">
                <a class="nav-link" href="/" data-toggle="collapse">refresh data</a>
            </li>

        </ul>
    </div>
</nav>
<div class="container-fluid" id="main">
    <div class="row row-offcanvas row-offcanvas-left">

<!-- MEM -->
        <div class="col main pt-5 mt-3">
            <h1 class="display-4 d-none d-sm-block">
            Linux Monitoring Dashboard
            </h1>

            <p class="lead d-none d-sm-block">MEM live data:</p>


            <div class="row mb-3">
                <div class="col-xl-3 col-sm-6 py-2">
                    <div class="card bg-success text-white h-100">
                        <div class="card-body bg-success">
                            <div class="rotate">
                                <i class="fa fa-user fa-4x"></i>
                            </div>
                            <h6 class="text-uppercase">Total</h6>
                            <h1 class="display-4" id="mem_total">{{mem['total']}}</h1>
                        </div>
                    </div>
                </div>
                <div class="col-xl-3 col-sm-6 py-2">
                    <div class="card text-white bg-danger h-100">
                        <div class="card-body bg-danger">
                            <div class="rotate">
                                <i class="fa fa-list fa-4x"></i>
                            </div>
                            <h6 class="text-uppercase">Free</h6>
                            <h1 class="display-4" id="mem_free">{{mem['free']}}</h1>
                        </div>
                    </div>
                </div>
                <div class="col-xl-3 col-sm-6 py-2">
                    <div class="card text-white bg-info h-100">
                        <div class="card-body bg-info">
                            <div class="rotate">
                                <i class="fa fa-twitter fa-4x"></i>
                            </div>
                            <h6 class="text-uppercase">Used</h6>
                            <h1 class="display-4" id="mem_used">{{mem['used']}}</h1>
                        </div>
                    </div>
                </div>
                <div class="col-xl-3 col-sm-6 py-2">
                    <div class="card text-white bg-warning h-100">
                        <div class="card-body">
                            <div class="rotate">
                                <i class="fa fa-share fa-4x"></i>
                            </div>
                            <h6 class="text-uppercase">Cache</h6>
                            <h1 class="display-4" id="mem_cache">{{mem['cache']}}</h1>
                        </div>
                    </div>
                </div>
            </div>

            <!--/row-->
<!-- MEM graf -->


<div class="chart-container">
    <canvas id="myChart"></canvas>
  </div>

<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
<script src="script.js"></script>
<script>
document.addEventListener("DOMContentLoaded", function() {
  // Sample data for the chart
  var data = {
    labels: [
      {% for entry in all_mem %}
        "{{ entry.dt }}",
      {% endfor %}
    ],
    datasets: [{
      label: "RAM",
      data: [
        {% for entry in all_mem %}
          {{ entry.used }},
        {% endfor %}
      ],
      fill: false,
      borderColor: "rgb(75, 192, 192)",
      tension: 0.1
    }]
};

  // Get the canvas element
  var ctx = document.getElementById("myChart").getContext("2d");

  // Create the chart
  var myChart = new Chart(ctx, {
    type: "line",
    data: data
  });
});
</script>



<!-- end MEM graf -->

            <!--------CPU------------->
            <div class="col main pt-5 mt-3">

            <p class="lead d-none d-sm-block">CPU live data:</p>


            <div class="row mb-3">
                <div class="col-xl-3 col-sm-6 py-2">
                    <div class="card bg-success text-white h-100">
                        <div class="card-body bg-success">
                            <div class="rotate">
                                <i class="fa fa-user fa-4x"></i>
                            </div>
                            <h6 class="text-uppercase">us</h6>
                            <h1 class="display-4">{{cpu['us']}}</h1>
                        </div>
                    </div>
                </div>
                <div class="col-xl-3 col-sm-6 py-2">
                    <div class="card text-white bg-danger h-100">
                        <div class="card-body bg-danger">
                            <div class="rotate">
                                <i class="fa fa-list fa-4x"></i>
                            </div>
                            <h6 class="text-uppercase">sy</h6>
                            <h1 class="display-4">{{cpu['sy']}}</h1>
                        </div>
                    </div>
                </div>
                <div class="col-xl-3 col-sm-6 py-2">
                    <div class="card text-white bg-info h-100">
                        <div class="card-body bg-info">
                            <div class="rotate">
                                <i class="fa fa-twitter fa-4x"></i>
                            </div>
                            <h6 class="text-uppercase">ni</h6>
                            <h1 class="display-4">{{cpu['ni']}}</h1>
                        </div>
                    </div>
                </div>
                <div class="col-xl-3 col-sm-6 py-2">
                    <div class="card text-white bg-warning h-100">
                        <div class="card-body">
                            <div class="rotate">
                                <i class="fa fa-share fa-4x"></i>
                            </div>
                            <h6 class="text-uppercase">id</h6>
                            <h1 class="display-4">{{cpu['id']}}</h1>
                        </div>
                    </div>
                </div>
            </div>
            <!--/row-->
            <div class="row mb-3">
                <div class="col-xl-3 col-sm-6 py-2">
                    <div class="card bg-success text-white h-100">
                        <div class="card-body bg-success">
                            <div class="rotate">
                                <i class="fa fa-user fa-4x"></i>
                            </div>
                            <h6 class="text-uppercase">wa</h6>
                            <h1 class="display-4">{{cpu['wa']}}</h1>
                        </div>
                    </div>
                </div>
                <div class="col-xl-3 col-sm-6 py-2">
                    <div class="card text-white bg-danger h-100">
                        <div class="card-body bg-danger">
                            <div class="rotate">
                                <i class="fa fa-list fa-4x"></i>
                            </div>
                            <h6 class="text-uppercase">hi</h6>
                            <h1 class="display-4">{{cpu['hi']}}</h1>
                        </div>
                    </div>
                </div>
                <div class="col-xl-3 col-sm-6 py-2">
                    <div class="card text-white bg-info h-100">
                        <div class="card-body bg-info">
                            <div class="rotate">
                                <i class="fa fa-twitter fa-4x"></i>
                            </div>
                            <h6 class="text-uppercase">si</h6>
                            <h1 class="display-4">{{cpu['si']}}</h1>
                        </div>
                    </div>
                </div>
                <div class="col-xl-3 col-sm-6 py-2">
                    <div class="card text-white bg-warning h-100">
                        <div class="card-body">
                            <div class="rotate">
                                <i class="fa fa-share fa-4x"></i>
                            </div>
                            <h6 class="text-uppercase">st</h6>
                            <h1 class="display-4">{{cpu['st']}}</h1>
                        </div>
                    </div>
                </div>
            </div>
            <!--/row-->
<!-- CPU graf -->


<div class="chart-container">
    <canvas id="myChart2"></canvas>
  </div>

<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
<script src="script.js"></script>
<script>
document.addEventListener("DOMContentLoaded", function() {
  // Sample data for the chart
  var data = {
    labels: [
      {% for entry in all_cpu %}
        "{{ entry.dt }}",
      {% endfor %}
    ],
    datasets: [{
      label: "CPU usage",
      data: [
        {% for entry in all_cpu %}
          {{ entry.us }},
        {% endfor %}
      ],
      fill: false,
      borderColor: "rgb(75, 192, 192)",
      tension: 0.1
    }]
};

  // Get the canvas element
  var ctx = document.getElementById("myChart2").getContext("2d");

  // Create the chart
  var myChart = new Chart(ctx, {
    type: "line",
    data: data
  });
});
</script>




<!-- end CPU graf -->
            <!-----------SWAP---------->

            <p class="lead d-none d-sm-block">SWAP live data:</p>


            <div class="row mb-3">
                <div class="col-xl-3 col-sm-6 py-2">
                    <div class="card bg-success text-white h-100">
                        <div class="card-body bg-success">
                            <div class="rotate">
                                <i class="fa fa-user fa-4x"></i>
                            </div>
                            <h6 class="text-uppercase">Total</h6>
                            <h1 class="display-4">{{swap['total']}}</h1>
                        </div>
                    </div>
                </div>
                <div class="col-xl-3 col-sm-6 py-2">
                    <div class="card text-white bg-danger h-100">
                        <div class="card-body bg-danger">
                            <div class="rotate">
                                <i class="fa fa-list fa-4x"></i>
                            </div>
                            <h6 class="text-uppercase">Free</h6>
                            <h1 class="display-4">{{swap['free']}}</h1>
                        </div>
                    </div>
                </div>
                <div class="col-xl-3 col-sm-6 py-2">
                    <div class="card text-white bg-info h-100">
                        <div class="card-body bg-info">
                            <div class="rotate">
                                <i class="fa fa-twitter fa-4x"></i>
                            </div>
                            <h6 class="text-uppercase">Used</h6>
                            <h1 class="display-4">{{swap['used']}}</h1>
                        </div>
                    </div>
                </div>
                <div class="col-xl-3 col-sm-6 py-2">
                    <div class="card text-white bg-warning h-100">
                        <div class="card-body">
                            <div class="rotate">
                                <i class="fa fa-share fa-4x"></i>
                            </div>
                            <h6 class="text-uppercase">Available</h6>
                            <h1 class="display-4">{{swap['available']}}</h1>
                        </div>
                    </div>
                </div>
            </div>

            </div>
<!-- CPU graf -->


<div class="chart-container">
    <canvas id="myChart3"></canvas>
  </div>

<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
<script src="script.js"></script>
<script>
document.addEventListener("DOMContentLoaded", function() {
  // Sample data for the chart
  var data = {
    labels: [
      {% for entry in all_swap %}
        "{{ entry.dt }}",
      {% endfor %}
    ],
    datasets: [{
      label: "SWAP usage",
      data: [
        {% for entry in all_swap %}
          {{ entry.used }},
        {% endfor %}
      ],
      fill: false,
      borderColor: "rgb(75, 192, 192)",
      tension: 0.1
    }]
};

  // Get the canvas element
  var ctx = document.getElementById("myChart3").getContext("2d");

  // Create the chart
  var myChart = new Chart(ctx, {
    type: "line",
    data: data
  });
});
</script>




<!-- end CPU graf -->



<!---table---->


            <a id="features"></a>
            <hr>
            <p class="lead mt-5">
                Are you ready for Bootstap 4? It's the 4th generation of this popular responsive framework. Bootstrap 4 will include some interesting
                new features such as flexbox, 5 grid sizes (now including xl), cards, `em` sizing, CSS normalization (reboot) and larger font
                sizes.
            </p>
            <form>
                <p>
                    %CPU
                </p>
                <p>
                    %MEM
                </p>
            </form>

            <div class="row my-4">

                <div class="col-lg-9 col-md-8">
                    <div class="table-responsive">
                        <table class="table table-striped">
                            <thead class="thead-inverse">
                                <tr>
                                    <th>DATE</th>
                                    <th>PID</th>
                                    <th>USER</th>
                                    <th>%CPU</th>
                                    <th>%MEM</th>
                                    <th>S</th>
                                    <th>COMMAND</th>
                                </tr>
                            </thead>

                            <tbody>
                            {% for p in proc %}
                                <tr>
                                    <td>{{date}}</td>
                                    <td>{{p['PID']}}</td>
                                    <td>{{p['USER']}}</td>
                                    <td>{{p['%CPU']}}</td>
                                    <td>{{p['%MEM']}}</td>
                                    <td>{{p['S']}}</td>
                                    <td>{{p['COMMAND']}}</td>
                                </tr>
                                {% endfor %}
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>
            <!--/row-->







        </div>
        <!--/main col-->
    </div>

</div>
<!--/.container-->
<footer class="container-fluid">
    <p class="text-right small">©2024 Kaleidoo</p>
</footer>




</body>
</html>


